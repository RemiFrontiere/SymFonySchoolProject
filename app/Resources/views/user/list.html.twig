{% extends 'show/base.html.twig' %}

{% block pageHeading %}List of Users{% endblock %}
{% block content %}
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Fullname</th>
      <th scope="col">Email</th>
      <th scope="col">Roles</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <th scope="row">1</th>
      <td>{{ user.fullname }}</td>
      <td>{{ user.username }}</td>
      <td>{{ user.roles | join(', ') }}</td>
      <td>
        {% for show in user.shows %}
          {{ show.name }}
          {% if not loop.last %}
            ,
          {% else %}
            No shows yet!
          {% endif %}
        {% endfor %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
